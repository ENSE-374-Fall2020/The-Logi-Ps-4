<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="stylesheet" href="css/navBarStyle.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
        integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">

    <title>Exercises</title>
</head>

<body>

    <%- include("navbar"); %>


    <h1 class="title"> Exercises </h1>

    <!-- Container for whole page -->
    <div class="container-fluid">
        <div class="row">
            <!-- Left-side list of all exercises -->

            <section id="exerciseSideList" class="accordion col-sm-3 bg-light">

                <article class="card">
                    <div id="sideListLegsHeader" class="card-header">
                        <h5>
                            <button class="btn btn-link" type="button" data-toggle="collapse"
                                data-target="#sideListLegsBody" aria-expanded="true" aria-controls="sideListLegsBody">
                                Legs
                            </button>
                        </h5>
                    </div>
<!-- idea: 
    comment: I realize this is not the most efficient way of doing this (loop needs to repeat each time -> lots of repeated work) but I'm not sure how to do it otherwise
    1. passed in the array of exercises from the db
    2. loop through the exercises bodyParts (bpNumber is short for bodyPartNumber)
    3. if (ex) legs is in bodyParts array, show exercise name in legs side list (vice versa for all bodyParts)

    * the side list exercises are linked to their card by exercise id
-->

                    <div id="sideListLegsBody" class="collapse" aria-labelledby="sideListLegsHeader"
                        data-parent="#exerciseSideList">
                        <div class="card-body list-group">
                            <% for (var exerciseNumber = 0; exerciseNumber < exercises.length; exerciseNumber++) { %>
                            <% for (var bpNumber = 0; bpNumber < exercises[exerciseNumber].bodyPart.length; bpNumber++) { %>
                            <% if (exercises[exerciseNumber].bodyPart[bpNumber] === "legs") { %>
                            <a class="list-group-item" href="#<%=exercises[exerciseNumber]._id%>"><%=exercises[exerciseNumber].name%></a>
                            <% } %>
                            <% } %>
                            <% } %>
                        </div>
                    </div>
                </article>

                <article class="card">
                    <div id="sideListArmsHeader" class="card-header">
                        <h5>
                            <button class="btn btn-link" type="button" data-toggle="collapse"
                                data-target="#sideListArmsBody" aria-expanded="true" aria-controls="sideListArmsBody">
                                Arms
                            </button>
                        </h5>
                    </div>

                    <div id="sideListArmsBody" class="collapse" aria-labelledby="sideListArmsHeader"
                        data-parent="#exerciseSideList">
                        <div class="card-body list-group">
                            <% for (var exerciseNumber = 0; exerciseNumber < exercises.length; exerciseNumber++) { %>
                            <% for (var bpNumber = 0; bpNumber < exercises[exerciseNumber].bodyPart.length; bpNumber++) { %>
                            <% if (exercises[exerciseNumber].bodyPart[bpNumber] === "arms") { %>
                            <a class="list-group-item" href="#<%=exercises[exerciseNumber]._id%>"><%=exercises[exerciseNumber].name%></a>
                            <% } %>
                            <% } %>
                            <% } %>
                        </div>
                    </div>
                </article>

                <article class="card">
                    <div id="sideListAbsHeader" class="card-header">
                        <h5>
                            <button class="btn btn-link" type="button" data-toggle="collapse"
                                data-target="#sideListAbsBody" aria-expanded="true" aria-controls="sideListAbsBody">
                                Abs
                            </button>
                        </h5>
                    </div>
                    <div id="sideListAbsBody" class="collapse" aria-labelledby="sideListAbsHeader"
                        data-parent="#exerciseSideList">
                        <div class="card-body list-group">
                            <% for (var exerciseNumber = 0; exerciseNumber < exercises.length; exerciseNumber++) { %>
                            <% for (var bpNumber = 0; bpNumber < exercises[exerciseNumber].bodyPart.length; bpNumber++) { %>
                            <% if (exercises[exerciseNumber].bodyPart[bpNumber] === "abs") { %>
                            <a class="list-group-item" href="#<%=exercises[exerciseNumber]._id%>"><%=exercises[exerciseNumber].name%></a>
                            <% } %>
                            <% } %>
                            <% } %>
                        </div>
                    </div>
                </article>

                <article class="card">
                    <div id="sideListBackHeader" class="card-header">
                        <h5>
                            <button class="btn btn-link" type="button" data-toggle="collapse"
                                data-target="#sideListBackBody" aria-expanded="true" aria-controls="sideListBackBody">
                                Back
                            </button>
                        </h5>
                    </div>
                    <div id="sideListBackBody" class="collapse" aria-labelledby="sideListBackHeader"
                        data-parent="#exerciseSideList">
                        <div class="card-body list-group">
                            <% for (var exerciseNumber = 0; exerciseNumber < exercises.length; exerciseNumber++) { %>
                            <% for (var bpNumber = 0; bpNumber < exercises[exerciseNumber].bodyPart.length; bpNumber++) { %>
                            <% if (exercises[exerciseNumber].bodyPart[bpNumber] === "back") { %>
                            <a class="list-group-item" href="#<%=exercises[exerciseNumber]._id%>"><%=exercises[exerciseNumber].name%></a>
                            <% } %>
                            <% } %>
                            <% } %>
                        </div>
                    </div>
                </article>

                <article class="card">
                    <div id="sideListShouldersHeader" class="card-header">
                        <h5>
                            <button class="btn btn-link" type="button" data-toggle="collapse"
                                data-target="#sideListShouldersBody" aria-expanded="true" aria-controls="sideListShouldersBody">
                                Shoulders
                            </button>
                        </h5>
                    </div>
                    <div id="sideListShouldersBody" class="collapse" aria-labelledby="sideListShouldersHeader"
                        data-parent="#exerciseSideList">
                        <div class="card-body list-group">
                            <% for (var exerciseNumber = 0; exerciseNumber < exercises.length; exerciseNumber++) { %>
                            <% for (var bpNumber = 0; bpNumber < exercises[exerciseNumber].bodyPart.length; bpNumber++) { %>
                            <% if (exercises[exerciseNumber].bodyPart[bpNumber] === "shoulders") { %>
                            <a class="list-group-item" href="#<%=exercises[exerciseNumber]._id%>"><%=exercises[exerciseNumber].name%></a>
                            <% } %>
                            <% } %>
                            <% } %>
                        </div>
                    </div>
                </article>

                <article class="card">
                    <div id="sideListChestHeader" class="card-header">
                        <h5>
                            <button class="btn btn-link" type="button" data-toggle="collapse"
                                data-target="#sideListChestBody" aria-expanded="true" aria-controls="sideListChestBody">
                                Chest
                            </button>
                        </h5>
                    </div>
                    <div id="sideListChestBody" class="collapse" aria-labelledby="sideListChestHeader"
                        data-parent="#exerciseSideList">
                        <div class="card-body list-group">
                            <% for (var exerciseNumber = 0; exerciseNumber < exercises.length; exerciseNumber++) { %>
                            <% for (var bpNumber = 0; bpNumber < exercises[exerciseNumber].bodyPart.length; bpNumber++) { %>
                            <% if (exercises[exerciseNumber].bodyPart[bpNumber] === "chest") { %>
                            <a class="list-group-item" href="#<%=exercises[exerciseNumber]._id%>"><%=exercises[exerciseNumber].name%></a>
                            <% } %>
                            <% } %>
                            <% } %>
                        </div>
                    </div>
                </article>

            </section>


            <!-- End of side list section -->

            <!-- Container for all exercise cards -->
            <section id="exerciseCardList" class="col-md-9 d-flex flex-wrap">
                <% for (var exerciseNumber = 0; exerciseNumber < exercises.length; exerciseNumber++) { %>

                <article id="<%=exercises[exerciseNumber]._id%>" class="card setCard m-3">
                    <h4 class="card-title bg-primary text-light text-center p-2 m-2"><%=exercises[exerciseNumber].name%></h4>
                    <img class="card-img-top p-2" src="img/squat.jpg" alt="Card image cap" />
                    <div class="card-body bg-light">
                        <h5>Muscles Used:</h5>
                        <ul>
        <!-- idea: 
            1. passed in the array of exercises from the db
            2. loop through the exercises muscles and output in the list
        -->
                            <% for (var muscleNumber = 0; muscleNumber < exercises[exerciseNumber].muscles.length; muscleNumber++) { %>
                            <li><%=exercises[exerciseNumber].muscles[muscleNumber]%></li>
                            <% } %>
                        </ul>
                        <a href="<%=exercises[exerciseNumber].tutorialURL%>">
                            <button class="btn btn-outline-info">
                                Demonstration
                            </button>
                        </a>
                    </div>
                </article>

                <% } %>
            </section>
      </div>  
    </div>




    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
        integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js"
        integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s"
        crossorigin="anonymous"></script>

</body>

</html>